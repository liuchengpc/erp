<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>人员取回</title>
    <link rel="stylesheet" href="css/layui.css">
    <script src="jquery-1.12.4.js"></script>
    <script src="layui.js"></script>
    <script src="js/vue.js"></script>
    <style>
        #app{
            padding: 15px;
        }
        .layui-input{
            height: 24px !important;
        }
        .layui-form-item{
            margin-bottom: 8px !important;
        }
        .layui-form-checkbox{
            margin-top: 3px !important;
        }
        .layui-input-block{
            height: 24px !important;
            min-height: 24px !important;
        }
    </style>
</head>
<body>
<div id="app">
    <div class="layui-row">
        <!-- 4 1 1 3-->
        <div class="layui-col-xs6">
            <div class="layui-row">
                <div class="layui-col-xs4">
                    <div class="layui-form">
                        <div class="layui-form-item">
                            <div class="layui-input-block" style="margin-left: 0;">
                                <select name="teams">
                                    <option value="4">单据编号</option>
                                    <option value="4">单据名称</option>
                                    <option value="4">英文名称</option>
                                    <option value="4">备注</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="layui-col-xs1">
                    <div class="layui-form">
                        <div class="layui-form-item">
                            <div class="layui-input-block" style="margin-left: 3px;">
                                <input type="text" placeholder="0" class="layui-input" v-model="charLength">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="layui-col-xs1" style="margin-left: 3px;">
                    <div class="layui-btn-group">
                        <button type="button" class="layui-btn layui-btn-primary layui-btn-xs"
                                style="height:24px;width: 50%;padding: 0;" @click="charLengthMinute()">
                            <i class="layui-icon"></i>
                        </button>
                        <button type="button" class="layui-btn layui-btn-primary layui-btn-xs"
                                style="height:24px;width: 50%;padding: 0;" @click="charLengthAdd()">
                            <i class="layui-icon lyaui-icon-right"></i>
                        </button>
                    </div>
                </div>
                <div class="layui-col-xs3">
                    <div class="layui-form">
                        <div class="layui-form-item" pane="">
                            <div class="layui-input-block" style="margin-left: 3px;">
                                <input type="checkbox" name="like1[game]" lay-skin="primary" title="寻找同时选取">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="layui-row">
        <div class="layui-col-xs6">
            <div class="layui-row">
                <div class="layui-col-xs5">
                    <div class="layui-form">
                        <div class="layui-form-item">
                            <div class="layui-input-block" style="margin-left: 0px;">
                                <input type="text" placeholder="0" class="layui-input">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="layui-col-xs1" style="margin-left: 3px;">
                    <div class="layui-row">
                        <div class="layui-col-xs12">
                            <div class="layui-btn-group" style="display:block;">
                                <button type="button" class="layui-btn layui-btn-primary layui-btn-xs"
                                        style="height: 12px;display:block;width: 100%;">
                                    <i class="layui-icon layui-icon-up"
                                       style="width: 100%;margin-right: 0;line-height: 12px;display:block;text-align:center;"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="layui-row">
                        <div class="layui-col-xs12">
                            <div class="layui-btn-group" style="display:block;">
                                <button type="button" class="layui-btn layui-btn-primary layui-btn-xs"
                                        style="height: 12px;display:block;width:100%;">
                                    <i class="layui-icon layui-icon-down"
                                       style="width: 100%;margin-right: 0;line-height: 12px;display:block;text-align:center;"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="layui-col-xs1" style="margin-left: 3px;">
                    <button type="button" class="layui-btn layui-btn-primary layui-btn-xs" @click="quhui">取回</button>
                </div>
            </div>
        </div>
    </div>
    <div class="layui-row">
        <div class="layui-form">
            <div class="layui-form-item">
                <div class="layui-input-block" style="margin-left: 0;">
                    <button type="button" class="layui-btn layui-btn-primary layui-btn-xs">全选</button>
                    <button type="button" class="layui-btn layui-btn-primary layui-btn-xs">全清</button>
                    <button type="button" class="layui-btn layui-btn-primary layui-btn-xs">以下全选</button>
                    <button type="button" class="layui-btn layui-btn-primary layui-btn-xs">以下全清</button>
                    <button type="button" class="layui-btn layui-btn-primary layui-btn-xs">新增记录</button>
                </div>
            </div>
        </div>
    </div>
    <div class="layui-row">
        <!--<div class="layui-col-xs2" style="height: 296px;">

        </div>-->
        <div class="layui-col-xs10" style="height: 296px;">
            <table class="layui-table" lay-even="" lay-skin="row" lay-size="sm">
                <colgroup>
                    <col width="150">
                    <col width="150">
                    <col width="150">
                    <col>
                </colgroup>
                <thead>
                <tr>
                    <th>编号</th>
                    <th>单据编号</th>             
                </tr>
                </thead>
                <tbody>           
                <tr v-for="stu,index in turnthelist" @click="dianji(stu)">
                    <td>{{index+1}}</td>
                    <td>{{stu.sowDocumentNumber}}</td>                  
                </tr>
                </tbody>
            </table>
            <button type="button" class="layui-btn layui-btn-primary layui-btn-xs">显示字段设置</button>
        </div>
    </div>
</div>
<script>
  
    layui.use(['form'], function () {
        var form = layui.form;
    });
    var dizhi = window.location.href.split("=")[1];
    var turnthesvue = new Vue({
    	el:"#app",
		data:{	
			turntheslist:[],
			turnthes:{},
			turnlist:[]
		},methods:{
			dianji(stu){
				$.each($("table tbody tr"),function(a,b){
					if($(b).find("td:eq(1)").text()==stu.sowDocumentNumber){
						$(b).css("background","pink");
					}else{
						$(b).css("background","");
					}
				})
				turnthesvue.turnthes=stu;
			},
			quhui(){
				parent[dizhi].page.list[0].customerId=turnthesvue.turnthes.customerId;
				parent[dizhi].page.list[0].srwAddress=turnthesvue.turnthes.sowAddress;
				parent[dizhi].page.list[0].srwtId=turnthesvue.turnthes.sowtId;
				parent[dizhi].page.list[0].srwPriceIncludeTax=turnthesvue.turnthes.sowPriceIncludeTax;
				parent[dizhi].page.list[0].warehouseId=turnthesvue.turnthes.warehouseId;
				parent[dizhi].page.list[0].srwCertificateNumber=turnthesvue.turnthes.sowCertificateNumber;
				parent[dizhi].page.list[0].srwDocumentDate=turnthesvue.turnthes.sowDocumentDate;
				parent[dizhi].page.list[0].srwDocumentNumber=turnthesvue.turnthes.sowDocumentNumber;
				parent[dizhi].page.list[0].currencyId=turnthesvue.turnthes.currencyId;
				parent[dizhi].page.list[0].srwExchangeRate=turnthesvue.turnthes.sowExchangeRate;
				parent[dizhi].page.list[0].srwForeignTrade=turnthesvue.turnthes.sowForeignTrade;
				parent[dizhi].page.list[0].srwSunnum=turnthesvue.turnthes.sowSunnum;
				parent[dizhi].page.list[0].srwTax=turnthesvue.turnthes.sowTax;
				parent[dizhi].page.list[0].srwSunmoney=turnthesvue.turnthes.sowSunmoney;
				parent[dizhi].page.list[0].srwIncludingTaxAmount=turnthesvue.turnthes.sowIncludingTaxAmount;
				parent[dizhi].page.list[0].srwSaleszkgs=turnthesvue.turnthes.sowSaleszkgs;
				parent[dizhi].page.list[0].srwSalesdate=turnthesvue.turnthes.sowSalesdate;
				parent[dizhi].page.list[0].srwSalessktj=turnthesvue.turnthes.sowSalessktj;
				parent[dizhi].page.list[0].srwSalesday=turnthesvue.turnthes.sowSalesday;
				parent[dizhi].page.list[0].srwSalesyue=turnthesvue.turnthes.sowSalesyue;
				parent[dizhi].page.list[0].srwBuyer=turnthesvue.turnthes.sowBuyer;
				parent[dizhi].page.list[0].srwBelongsSection=turnthesvue.turnthes.sowBelongsSection;
				parent[dizhi].page.list[0].srwBelongsProject=turnthesvue.turnthes.sowBelongsProject;
				parent[dizhi].page.list[0].srwForm=turnthesvue.turnthes.sowForm;
				parent[dizhi].page.list[0].srwCheckagainStaff=turnthesvue.turnthes.sowCheckagainStaff;
				parent[dizhi].page.list[0].srwHeaderProvision=turnthesvue.turnthes.sowHeaderProvision;
				parent[dizhi].page.list[0].srwEndClause=turnthesvue.turnthes.sowEndClause;
				parent[dizhi].page.list[0].srwRemark=turnthesvue.turnthes.sowRemark;
				$.each(turnthesvue.turnthes.list,function(a,b) {
						var cnm={
					matterId:b.matterId,
					srwdEngname:b.sowdEngname,
					srwdRemark:b.sowdRemark,
					srwdPriceIncludeTax:b.sowdPriceIncludeTax,
					srwdSingleStatus:b.sowdSingleStatus,
					srwdDocumentDate:b.sowdDocumentDate,
					srwdDocumentNumber:b.sowdDocumentNumber,
					srwdPrice:b.sowdPrice,
					srwdMoney:b.sowdMoney,
					srwdTaxRate:b.sowdTaxRate,
					srwdTaxAmount:b.sowdTaxAmount,
					srwdIncludingTaxAmount:b.sowdIncludingTaxAmount,
					srwdBatchNumber:b.sowdBatchNumber,
					srwdIfgift:b.sowdIfgift,
					srwdInvoiceDetails:b.sowdInvoiceDetails,
					srwdNomakeInvoiceNum:b.sowdNomakeInvoiceNum,
					srwdRemarks:b.sowdRemarks
					};
					turnthesvue.turnlist.push(cnm);
					})
				parent[dizhi].page.list[0].list=turnthesvue.turnlist;
				
				parent.layer.close(parent.layer.getFrameIndex(window.name));
			}
		},created:function(){
			$.ajax({
			type:"get",
			url:"http://127.0.0.1:8080/Sales_out_warehouseController/selectzdsh",
			success:function(res){
				turnthesvue.turntheslist=res;
			}
		});
		}
    })
    
   
</script>
</body>
</html>